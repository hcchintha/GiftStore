{"ast":null,"code":"var _jsxFileName = \"/Users/shanmukaganti/Downloads/HariChandana/GiftStore/frontend/src/DataCollect.js\",\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { Card, Row, Col } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function DataCollect() {\n  _s2();\n  var _s = $RefreshSig$();\n  const index = () => {\n    _s();\n    const [products, setProducts] = useState([]);\n    const [hasMore, setHasMore] = useState(true);\n    const [page, setPage] = useState(0);\n    const elementRef = useRef(null);\n    function onIntersection(entries) {\n      const firstEntry = entries[0];\n      if (firstEntry.isIntersecting && hasMore) {\n        fetchMoreItems();\n      }\n    }\n    useEffect(() => {\n      const observer = new IntersectionObserver(onIntersection);\n      if (observer && elementRef.current) {\n        observer.observe(elementRef.current);\n      }\n      return () => {\n        if (observer) {\n          observer.disconnect();\n        }\n      };\n    }, [products]);\n    async function fetchMoreItems() {\n      const response = await fetch(`http://localhost:5000/api/products?limit=2skip=${page * 2}`);\n      const data = await response.json();\n      if (data.products.length == 0) {\n        setHasMore(false);\n      } else {\n        setProducts(prevProducts => [...prevProducts, ...data.products]);\n        setPage(prevPage => prevPage + 1);\n      }\n    }\n  };\n  _s(index, \"NikSwA7VRNFo6vFthnTdQ9KMME0=\");\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/products').then(response => {\n      setData(response.data);\n    }).catch(error => {\n      console.error(error);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [products.map(item => /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: '600 px',\n        margin: '0 auto'\n      },\n      className: 'mb-2',\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 4,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"img\",\n            src: item.image,\n            alt: \"img\",\n            style: {\n              width: '100%',\n              margin: '10px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 8,\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            children: [/*#__PURE__*/_jsxDEV(Card.Text, {\n              children: item.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: [\"$\", item.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 29\n      }, this)\n    }, item.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 25\n    }, this)), hasMore && /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: elementRef,\n      style: {\n        textAlign: 'center'\n      },\n      children: \"Load More Items. . . \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 32\n    }, this)]\n  }, void 0, true);\n}\n_s2(DataCollect, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n_c = DataCollect;\nvar _c;\n$RefreshReg$(_c, \"DataCollect\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","axios","InfiniteScroll","Card","Row","Col","jsxDEV","_jsxDEV","Fragment","_Fragment","DataCollect","_s2","_s","$RefreshSig$","index","products","setProducts","hasMore","setHasMore","page","setPage","elementRef","onIntersection","entries","firstEntry","isIntersecting","fetchMoreItems","observer","IntersectionObserver","current","observe","disconnect","response","fetch","data","json","length","prevProducts","prevPage","setData","get","then","catch","error","console","children","map","item","style","width","margin","className","md","src","image","alt","fileName","_jsxFileName","lineNumber","columnNumber","Body","Text","description","price","id","ref","textAlign","_c","$RefreshReg$"],"sources":["/Users/shanmukaganti/Downloads/HariChandana/GiftStore/frontend/src/DataCollect.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport {Card, Row, Col} from 'react-bootstrap'\n\nexport default function DataCollect(){\n\n        const index = () => {\n            const [products, setProducts] = useState([])\n            const [hasMore, setHasMore] = useState(true)\n            const [page , setPage] = useState(0)\n\n            const elementRef = useRef(null)\n\n            function onIntersection(entries) {\n                const firstEntry = entries[0]\n                if (firstEntry.isIntersecting && hasMore) {\n                    fetchMoreItems()\n                }\n            }\n\n            useEffect(() => {\n                const observer = new IntersectionObserver(onIntersection)\n                if(observer && elementRef.current) {\n                    observer.observe(elementRef.current)\n                }\n\n             return () => {\n                if(observer){\n                    observer.disconnect()\n                }\n             }\n            }, [products])\n        async function fetchMoreItems() {\n            const response = await fetch(`http://localhost:5000/api/products?limit=2skip=${page*2}`)\n            const data = await response.json()\n            if ( data.products.length == 0 ) {\n                setHasMore(false)\n            }\n            else {\n                setProducts(prevProducts => [...prevProducts, ...data.products])\n                setPage(prevPage => prevPage + 1)\n            }\n\n\n        }\n\n\n        }\n\n        const [data, setData] = useState([]);\n        useEffect(() => {\n            axios.get('http://localhost:5000/api/products').then(\n                response => {\n                    setData(response.data);\n                }\n            ).catch(error => {\n                console.error(error);\n            })\n        }, [])\n\n        return (\n            <>\n                {\n                    products.map(item =>\n                        <Card key={item.id} style={{width:'600 px', margin: '0 auto'}} className={'mb-2'}>\n                            <Row>\n                                <Col md = {4}>\n                                    <img className='img'\n                                         src={item.image}\n                                         alt=\"img\"\n                                         style={{width:'100%', margin:'10px'}}/>\n                                </Col>\n                                <Col md={8}>\n                                    <Card.Body>\n                                        <Card.Text>\n                                            {item.description}\n                                        </Card.Text>\n                                        <Card.Text>\n                                             ${item.price}\n                                             </Card.Text>\n                                    </Card.Body>\n                                </Col>\n                            </Row>\n                        </Card> )\n\n                }\n                {\n                    hasMore && <div ref={elementRef} style={{textAlign:  'center'}}>Load More Items. . . </div>\n\n                }\n            </>\n\n        )\n    }"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}