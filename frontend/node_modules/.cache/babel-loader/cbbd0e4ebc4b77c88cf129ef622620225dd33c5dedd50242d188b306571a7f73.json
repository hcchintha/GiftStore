{"ast":null,"code":"var _jsxFileName = \"/Users/shanmukaganti/Downloads/HariChandana/GiftStore/frontend/src/DataCollect.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DataCollection() {\n  _s();\n  const [data, setData] = useState();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [hasMore, setHasMore] = useState(true);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const fetchMoreData = () => {\n    if (data.size <= 30) {\n      setTimeout(() => {\n        setData(data.concat({\n          length: 1\n        }));\n      }, 500);\n    } else {\n      setHasMore(false);\n    }\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const response = await axios.get('http://localhost:5000/api/products').then(response => {\n          setData(response.data);\n        }).catch(error => {\n          console.error(error);\n        });\n      } catch (error) {\n        setError(error);\n      }\n      setLoading(false);\n    };\n\n    // Fetch data only if data is not already loaded\n    if (!data) {\n      fetchData();\n    }\n  }, [data]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Error fetching data: \", error.message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 23\n  }, this);\n  if (!data) return null; // Render nothing if data is not yet loaded\n  const style = {\n    border: \"1px solid green\",\n    margin: 12,\n    padding: 12\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"templateContainer\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchInput_Container\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"searchInput\",\n        type: \"text\",\n        placeholder: \"Search\",\n        onChange: event => {\n          setSearchTerm(event.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"products\",\n      children: /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n        dataLength: data.length,\n        next: fetchMoreData,\n        hasMore: hasMore,\n        loader: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 37\n        }, this),\n        endMessage: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You are all set ! \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 41\n        }, this),\n        height: 680,\n        children: data.filter(val => {\n          if (searchTerm == \"\") {\n            return val;\n          } else if (val.name.toLowerCase().includes(searchTerm.toLowerCase())) {\n            return val;\n          }\n        }).map(val => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"template\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: val.image,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              children: val.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"price\",\n              children: [\"$\", val.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 39\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: val.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 39\n            }, this)]\n          }, val.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 35\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(DataCollection, \"GbwrmOgig/WWLeR5zEZ+2ixJ0hA=\");\n_c = DataCollection;\nvar _c;\n$RefreshReg$(_c, \"DataCollection\");","map":{"version":3,"names":["React","useState","useEffect","axios","InfiniteScroll","jsxDEV","_jsxDEV","DataCollection","_s","data","setData","loading","setLoading","error","setError","hasMore","setHasMore","searchTerm","setSearchTerm","fetchMoreData","size","setTimeout","concat","length","fetchData","response","get","then","catch","console","children","fileName","_jsxFileName","lineNumber","columnNumber","message","style","border","margin","padding","className","id","type","placeholder","onChange","event","target","value","dataLength","next","loader","endMessage","height","filter","val","name","toLowerCase","includes","map","src","image","alt","price","description","_c","$RefreshReg$"],"sources":["/Users/shanmukaganti/Downloads/HariChandana/GiftStore/frontend/src/DataCollect.js"],"sourcesContent":["\nimport React, { useState, useEffect } from 'react';\nimport axios from \"axios\";\nimport './App.css';\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport './style.css'\n\nexport default function DataCollection() {\n    const [data, setData] = useState();\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [hasMore, setHasMore]= useState(true);\n    const [searchTerm, setSearchTerm] = useState(\"\");\n    const fetchMoreData =() => {\n\n    if(data.size<=30)\n    {\n        setTimeout( () => {\n            setData(data.concat({length:1}))\n        },500 );\n        } else {\n        setHasMore(false);\n        }\n\n    };\n\n    useEffect(() => {\n        const fetchData = async () => {\n            setLoading(true);\n            try {\n                const response = await axios.get('http://localhost:5000/api/products').then(\n                                                   response => {\n                                                       setData(response.data);\n                                                   }\n                                               ).catch(error => {\n                                                   console.error(error);\n                                               })\n            } catch(error){\n            setError(error);\n            }\n            setLoading(false);\n        };\n\n    // Fetch data only if data is not already loaded\n    if (!data) {\n      fetchData();\n    }\n    }, [data])\n    if (loading) return <div>Loading...</div>;\n    if (error) return <div>Error fetching data: {error.message}</div>;\n    if (!data) return null; // Render nothing if data is not yet loaded\n    const style = {\n        border:\"1px solid green\",\n        margin: 12,\n        padding: 12,\n    }\n    return (\n        <div className=\"templateContainer\">\n        <div className=\"searchInput_Container\">\n            <input id = \"searchInput\" type = \"text\" placeholder=\"Search\" onChange={(event) => {\n                        setSearchTerm(event.target.value);}}/>\n            </div>\n            {\n                <div className='products'>\n                <InfiniteScroll\n                            dataLength = {data.length}\n                            next = {fetchMoreData}\n                            hasMore={hasMore}\n                            loader={<p>Loading...</p>}\n                            endMessage={<p>You are all set ! </p>}\n                            height = {680}\n                            >\n                {\n                            data\n                              .filter((val) => {\n                                if(searchTerm == \"\"){\n                                  return val;\n                                }else if(val.name.toLowerCase().includes(searchTerm.toLowerCase())){\n                                  return val;\n                                }\n                              })\n                              .map((val) => {\n                                return(\n                                  <div className=\"template\" key={val.id}>\n                                      <img src={val.image} alt=\"\" />\n                                      <h3>{val.name}</h3>\n                                      <p className=\"price\">${val.price}</p>\n                                      <p>{val.description}</p>\n                                  </div>\n                                )\n                              })\n                }\n\n                </InfiniteScroll>\n                </div>\n\n            }\n            </div>\n\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}